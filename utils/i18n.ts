const translations = {
  fr: {
    appTitle: 'Swipe',
    appTitleParanormal: 'Paranormal',
    allSeenTitle: 'Tout a été vu !',
    summonMessage: "Les esprits sont calmes... pour le moment.",
    summonButton: "Invoquer plus de faits",
    shareAriaLabel: 'Partager ce fait',
    copySuccess: 'Détails du fait copiés dans le presse-papiers !',
    copyFail: 'Échec de la copie des détails du fait.',
    errorTitle: 'Une erreur est survenue',
    errorFetch: 'Échec de la récupération des faits paranormaux. Veuillez réessayer plus tard.',
    shareFactTitle: (title: string) => `Découvrez ce fait paranormal : ${title}`,
    muteAriaLabel: 'Désactiver la musique',
    unmuteAriaLabel: 'Activer la musique',
    languageToggleAriaLabel: 'Changer la langue',
    goToFavoritesAriaLabel: 'Voir les favoris',
    favoriteAriaLabel: 'Mettre ce fait en favori',
    unfavoriteAriaLabel: 'Retirer ce fait des favoris',
    favoritesTitle: 'Vos Favoris',
    favoritesEmpty: "Vous n'avez encore aucun fait en favori. Explorez et enregistrez vos découvertes !",
    backAriaLabel: 'Retour',
    searchPlaceholder: 'Rechercher dans les favoris...',
    searchAriaLabel: 'Rechercher dans les favoris',
    allCategories: 'Tout',
    noResultsFound: 'Aucun fait ne correspond à votre recherche.',
    shuffleAriaLabel: 'Mélanger les favoris',
    onboardingTitle1: 'Bienvenue !',
    onboardingText1: 'Découvrez des faits réels sur le paranormal et la sorcellerie.',
    onboardingTitle2: 'Explorez',
    onboardingText2: "Balayez vers la droite pour aimer, ou vers la gauche pour passer. C'est à vous de juger.",
    onboardingTitle3: 'Plongez plus profondément',
    onboardingText3: "Appuyez sur une carte à tout moment pour voir l'histoire complète et une vidéo d'ambiance.",
    onboardingTitle4: 'Collectionnez vos favoris',
    onboardingText4: "Appuyez sur l'étoile pour enregistrer vos découvertes les plus effrayantes et les revoir plus tard.",
    onboardingTitle5: 'Personnalisez votre expérience',
    onboardingText5: 'Utilisez les icônes en haut pour changer la langue, voir vos favoris et basculer la musique.',
    onboardingNext: 'Suivant',
    onboardingFinish: "C'est parti !",
    readAloudAriaLabel: 'Lire à voix haute',
    pauseSpeechAriaLabel: 'Mettre en pause la narration',
    resumeSpeechAriaLabel: 'Reprendre la narration',
    ttsError: "Échec de la génération de l'audio. Veuillez réessayer.",
    loadingFacts: 'Invocation des esprits...',
    loadingImages: 'Conjuration des visions...',
  },
  en: {
    appTitle: 'Swipe',
    appTitleParanormal: 'Paranormal',
    allSeenTitle: 'All Seen!',
    summonMessage: "The spirits are quiet... for now.",
    summonButton: "Summon More Facts",
    shareAriaLabel: 'Share this fact',
    copySuccess: 'Fact details copied to clipboard!',
    copyFail: 'Failed to copy fact details.',
    errorTitle: 'An Error Occurred',
    errorFetch: 'Failed to fetch paranormal facts. Please try again later.',
    shareFactTitle: (title: string) => `Check out this paranormal fact: ${title}`,
    muteAriaLabel: 'Mute music',
    unmuteAriaLabel: 'Unmute music',
    languageToggleAriaLabel: 'Change language',
    goToFavoritesAriaLabel: 'View favorites',
    favoriteAriaLabel: 'Favorite this fact',
    unfavoriteAriaLabel: 'Unfavorite this fact',
    favoritesTitle: 'Your Favorites',
    favoritesEmpty: "You haven't favorited any facts yet. Explore and save your findings!",
    backAriaLabel: 'Go back',
    searchPlaceholder: 'Search favorites...',
    searchAriaLabel: 'Search favorites',
    allCategories: 'All',
    noResultsFound: 'No facts match your search.',
    shuffleAriaLabel: 'Shuffle favorites',
    onboardingTitle1: 'Welcome!',
    onboardingText1: 'Discover real-world facts about the paranormal and witchcraft.',
    onboardingTitle2: 'Explore the Unknown',
    onboardingText2: 'Swipe right to like, or swipe left to pass. You be the judge.',
    onboardingTitle3: 'Dive Deeper',
    onboardingText3: 'Tap on a card anytime to view the full story and an atmospheric video.',
    onboardingTitle4: 'Collect Your Favorites',
    onboardingText4: 'Tap the star to save your spookiest finds and revisit them later.',
    onboardingTitle5: 'Customize Your Experience',
    onboardingText5: 'Use the header icons to change language, view your collection, and toggle the music.',
    onboardingNext: 'Next',
    onboardingFinish: "Let's Go!",
    readAloudAriaLabel: 'Read aloud',
    pauseSpeechAriaLabel: 'Pause narration',
    resumeSpeechAriaLabel: 'Resume narration',
    ttsError: 'Failed to generate audio. Please try again.',
    loadingFacts: 'Summoning spirits...',
    loadingImages: 'Conjuring visions...',
  },
};

export const getInitialLanguage = (): 'fr' | 'en' => {
  const lang = navigator.language.split('-')[0];
  return lang === 'fr' ? 'fr' : 'en';
};

export type TranslationKey = keyof typeof translations['en'];

export const getTranslator = (lang: 'fr' | 'en') => (key: TranslationKey, ...args: any[]): string => {
    const translation = translations[lang][key as any];
    if (typeof translation === 'function') {
        return (translation as (...a: any[]) => string)(...args);
    }
    return translation as string;
};